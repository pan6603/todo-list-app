## 8. 할일 출력


App.tsx
```

import { useEffect, useState } from 'react'
import './App.css'
import type { Todo } from './types'
import Todoform from './componets/Todoform'
import TodoItem from './componets/TodoItem'
import * as S from './store';

const KEY = 'todos:v1';

function load(): Todo[]{
  const raw = localStorage.getItem(KEY)
  return raw ? (JSON.parse(raw) as Todo[]):[];
}

function save(todos:Todo[]) {
  localStorage.setItem(KEY, JSON.stringify(todos));
}

function App() {
  const [todos, setTodos] = useState<Todo[]>(() => load());

  useEffect(() => { // todos 변경되면 로컬 스토리지에 값을 저장 
      save(todos)
  },[todos])

  return (
    <>
      <h1>Todo List</h1>
      <Todoform onAdd={(title: string, due?: string)=>setTodos((prev)=> S.add(prev,{title, due}))}/>
      <hr />
      <ul>
        {todos.map((t) => <TodoItem todo={t} key={t.id}/>)}
      </ul>
    </>
  )
}

export default App

```
+ todos 변경시 useEffect() 실행 후 save() 함수 동작하기 
+ due -> due? 바꾸기 



### 메모 정리 
+ localStorage.getItem(KEY) 사용하는 이유는 새로고침시 데이터는 유지된다.
